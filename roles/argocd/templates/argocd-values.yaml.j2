global:
  image:
    tag: "v2.8.3"  # 최신 ArgoCD 버전 태그 추가
  networkPolicy:
    create: false  # nil pointer 방지 (필요하면 true로 변경 가능)

server:
  service:
    type: LoadBalancer
  route:
    enabled: false  # Openshift 환경이 아닐 경우 false로 설정
  ingress:
    enabled: false  # GKE 환경이 아닐 경우 false로 설정

configs:
  secret:
    argocdServerAdminPassword: "{{ redis_password.stdout }}"
  cm:
    application.instanceLabelKey: argocd.argoproj.io/instance
    repositories: |
      - name: helm-repo
        type: helm
        url: https://charts.bitnami.com/bitnami

redis:
  enabled: true
  name: "argocd-redis"  # Redis 이름 추가
  service:
    labels: {}  # Redis 서비스에 기본 레이블 추가하여 nil pointer 오류 방지
  serviceAccount:
    create: true  # Redis 서비스 계정 생성 활성화
  pdb:
    enabled: true  # Pod Disruption Budget 관련 nil pointer 방지
    minAvailable: 1
  networkPolicy:
    enabled: false  # nil pointer 방지 (필요하면 true로 변경 가능)
  config:
    password: "{{ redis_password.stdout }}"
